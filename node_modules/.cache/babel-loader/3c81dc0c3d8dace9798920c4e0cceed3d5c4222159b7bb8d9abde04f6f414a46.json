{"ast":null,"code":"import _slicedToArray from\"C:/Users/kkubo/Documents/00_GS/01_assignment/10_php4/clone/reactjs-php-login-system/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import Box from\"@mui/material/Box\";import TextField from\"@mui/material/TextField\";import Button from\"@mui/material/Button\";import Alert from\"@mui/material/Alert\";import Link from\"@mui/material/Link\";import Typography from\"@mui/material/Typography\";import Container from\"@mui/material/Container\";import IconButton from\"@mui/material/IconButton\";import{Visibility,VisibilityOff}from\"@mui/icons-material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showPassword=_useState8[0],setShowPassword=_useState8[1];var handleEmailChange=function handleEmailChange(event){setEmail(event.target.value);};var handlePasswordChange=function handlePasswordChange(event){setPassword(event.target.value);};var handleShowPassword=function handleShowPassword(){setShowPassword(!showPassword);};var handleSubmit=function handleSubmit(event){event.preventDefault();axios.post(\"http://localhost/api/login.php\",{email:email,password:password}).then(function(response){console.log(response);if(response.data.status===\"success\"){sessionStorage.setItem(\"loggedIn\",true);sessionStorage.setItem(\"userData\",JSON.stringify(response.data.data));window.location.href=\"/dashboard\";}else{setError(response.data.message);}}).catch(function(error){console.error(error);});};return/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",marginTop:\"5%\"},children:/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Typography,{style:{marginBottom:\"20px\"},variant:\"h2\",component:\"h2\",children:\"Sign in\"}),error&&/*#__PURE__*/_jsx(Alert,{style:{marginBottom:\"20px\"},severity:\"error\",children:error}),/*#__PURE__*/_jsx(TextField,{type:\"email\",value:email,onChange:handleEmailChange,variant:\"filled\",id:\"email\",label:\"Email address\",fullWidth:true,style:{marginBottom:\"20px\"}}),/*#__PURE__*/_jsx(TextField,{type:showPassword?\"text\":\"password\",value:password,onChange:handlePasswordChange,variant:\"filled\",id:\"password\",label:\"Password\",fullWidth:true,style:{marginBottom:\"20px\"},InputProps:{endAdornment:/*#__PURE__*/_jsx(IconButton,{onClick:handleShowPassword,children:showPassword?/*#__PURE__*/_jsx(VisibilityOff,{}):/*#__PURE__*/_jsx(Visibility,{})})}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{href:\"/register\",children:\"Sign up\"})]})]})})});}export default Login;","map":{"version":3,"names":["React","useState","axios","Box","TextField","Button","Alert","Link","Typography","Container","IconButton","Visibility","VisibilityOff","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","error","setError","_useState7","_useState8","showPassword","setShowPassword","handleEmailChange","event","target","value","handlePasswordChange","handleShowPassword","handleSubmit","preventDefault","post","then","response","console","log","data","status","sessionStorage","setItem","JSON","stringify","window","location","href","message","catch","sx","display","justifyContent","alignItems","marginTop","children","maxWidth","onSubmit","style","marginBottom","variant","component","severity","type","onChange","id","label","fullWidth","InputProps","endAdornment","onClick"],"sources":["C:/Users/kkubo/Documents/00_GS/01_assignment/10_php4/clone/reactjs-php-login-system/frontend/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Box from \"@mui/material/Box\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Alert from \"@mui/material/Alert\";\r\nimport Link from \"@mui/material/Link\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Container from \"@mui/material/Container\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\n\r\nfunction Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  const handlePasswordChange = (event) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const handleShowPassword = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"http://localhost/api/login.php\", {\r\n        email: email,\r\n        password: password,\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n        if (response.data.status === \"success\") {\r\n          sessionStorage.setItem(\"loggedIn\", true);\r\n          sessionStorage.setItem(\r\n            \"userData\",\r\n            JSON.stringify(response.data.data)\r\n          );\r\n\r\n          window.location.href = \"/dashboard\";\r\n        } else {\r\n          setError(response.data.message);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: \"5%\",\r\n      }}\r\n    >\r\n      <Container maxWidth=\"sm\">\r\n        <form onSubmit={handleSubmit}>\r\n          <Typography\r\n            style={{ marginBottom: \"20px\" }}\r\n            variant=\"h2\"\r\n            component=\"h2\"\r\n          >\r\n            Sign in\r\n          </Typography>\r\n          {error && (\r\n            <Alert style={{ marginBottom: \"20px\" }} severity=\"error\">\r\n              {error}\r\n            </Alert>\r\n          )}\r\n          <TextField\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={handleEmailChange}\r\n            variant=\"filled\"\r\n            id=\"email\"\r\n            label=\"Email address\"\r\n            fullWidth\r\n            style={{ marginBottom: \"20px\" }}\r\n          />\r\n          <TextField\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            value={password}\r\n            onChange={handlePasswordChange}\r\n            variant=\"filled\"\r\n            id=\"password\"\r\n            label=\"Password\"\r\n            fullWidth\r\n            style={{ marginBottom: \"20px\" }}\r\n            InputProps={{\r\n              endAdornment: (\r\n                <IconButton onClick={handleShowPassword}>\r\n                  {showPassword ? <VisibilityOff /> : <Visibility />}\r\n                </IconButton>\r\n              ),\r\n            }}\r\n          />\r\n          <Button variant=\"contained\" type=\"submit\">\r\n            Login\r\n          </Button>\r\n          <p>\r\n            Don't have an account? <Link href=\"/register\">Sign up</Link>\r\n          </p>\r\n        </form>\r\n      </Container>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}